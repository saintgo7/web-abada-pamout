# 기술 요구사항 문서 (TRD)
## Technical Requirements Document

**프로그램 포트폴리오 관리 시스템 (Program Portfolio Management System)**

---

## 문서 정보

| 항목 | 내용 |
|------|------|
| **버전** | 1.0.0 |
| **작성일** | 2025-01-08 |
| **작성자** | ABADA Inc. 기술팀 |

---

## 목차

1. [기술 스택](#1-기술-스택)
2. [아키텍처 요구사항](#2-아키텍처-요구사항)
3. [성능 요구사항](#3-성능-요구사항)
4. [확장성 요구사항](#4-확장성-요구사항)
5. [통합 요구사항](#5-통합-요구사항)
6. [보안 요구사항](#6-보안-요구사항)
7. [운영 요구사항](#7-운영-요구사항)

---

## 1. 기술 스택

### 1.1 프론트엔드

| 계층 | 기술 | 버전 | 설명 |
|------|------|------|------|
| **프레임워크** | React | 19+ | UI 라이브러리 |
| **언어** | TypeScript | 5.8+ | 타입 안전성 |
| **상태관리** | Zustand | 5.0+ | 경량 상태 관리 |
| **UI 라이브러리** | Material-UI | 6.0+ | 컴포넌트 라이브러리 |
| **차트** | Recharts | 3.0+ | 데이터 시각화 |
| **빌드 도구** | Vite | 6.0+ | 빠른 빌드 |
| **폼** | React Hook Form | 7.0+ | 폼 관리 |
| **HTTP** | Axios | 1.7+ | API 클라이언트 |

### 1.2 백엔드

| 계층 | 기술 | 버전 | 설명 |
|------|------|------|------|
| **런타임** | Node.js | 22 LTS | JavaScript 런타임 |
| **프레임워크** | Express.js | 4.19+ | 웹 프레임워크 |
| **언어** | TypeScript | 5.8+ | 타입 안전성 |
| **ORM** | Prisma | 6.0+ | 데이터베이스 ORM |
| **인증** | Passport.js | 0.7+ | 인증 미들웨어 |
| **밸리데이션** | Zod | 3.0+ | 스키마 밸리데이션 |
| **API 문서** | Swagger | 5.0+ | API 자동 문서화 |

### 1.3 데이터베이스

| 데이터베이스 | 용도 | 버전 |
|------------|------|------|
| **PostgreSQL** | 주 데이터 저장소 | 16+ |
| **Redis** | 캐시, 세션 | 7.2+ |

### 1.4 인프라

| 분야 | 기술 | 설명 |
|------|------|------|
| **컨테이너** | Docker | 애플리케이션 컨테이너화 |
| **오케스트레이션** | Kubernetes | 컨테이너 오케스트레이션 |
| **클라우드** | AWS/GCP | 퍼블릭 클라우드 |
| **CI/CD** | GitHub Actions | 지속적 통합/배포 |
| **모니터링** | Prometheus + Grafana | 메트릭 수집 및 시각화 |
| **로깅** | ELK Stack | 로그 수집 및 분석 |

---

## 2. 아키텍처 요구사항

### 2.1 시스템 아키텍처

**마이크로서비스 아키텍처:**

```
[클라이언트]
    ↓
[API Gateway]
    ↓
┌──────────┬──────────┬──────────┐
│  프로그램  │  리소스   │  보고    │
│  서비스   │  서비스   │  서비스   │
└──────────┴──────────┴──────────┘
    ↓           ↓           ↓
┌──────────────────────────────┐
│       PostgreSQL            │
└──────────────────────────────┘
```

### 2.2 서비스 분리

| 서비스 | 책임 | API |
|--------|------|-----|
| **프로그램 서비스** | 프로그램/프로젝트 CRUD | /api/programs/* |
| **리소스 서비스** | 리소스 관리, 할당 | /api/resources/* |
| **예산 서비스** | 예산 추적, 리포트 | /api/budgets/* |
| **위험 서비스** | 위험 관리 | /api/risks/* |
| **보고 서비스** | 리포트 생성 | /api/reports/* |
| **인증 서비스** | 사용자 인증, 권한 | /api/auth/* |

---

## 3. 성능 요구사항

### 3.1 응답 시간

| 엔드포인트 타입 | 목표 응답 시간 | 측정 방법 |
|---------------|--------------|----------|
| **단일 조회** | 100ms | p95 |
| **목록 조회** | 200ms | p95 |
| **대시보드** | 500ms | p95 |
| **리포트 생성** | 3s | p95 |
| **데이터 내보내기** | 10s | p95 |

### 3.2 동시성

| 항목 | 요구사항 |
|------|---------|
| **동시 접속자** | 10,000명 |
| **초당 요청** | 5,000 RPS |
| **데이터베이스 커넥션** | 100개/인스턴스 |

---

## 4. 확장성 요구사항

### 4.1 수평 확장

- **Stateless 애플리케이션**: 세션을 Redis에 저장
- **로드 밸런서**: AWS ALB/GCP Load Balancing
- **오토스케일링**: CPU 70% 이상 시 인스턴스 추가

### 4.2 데이터베이스 확장

- **Read Replica**: 읽기 전용 복제본 3개
- **커넥션 풀링**: PgBouncer 사용
- **파티셔닝**: 대용량 테이블 연도별 파티셔닝

---

## 5. 통합 요구사항

### 5.1 타사 서비스 통합

| 서비스 | 통합 방식 | 목적 |
|--------|----------|------|
| **Slack** | Webhook, API | 알림 발송 |
| **Microsoft Teams** | Webhook | 알림 발송 |
| **Jira** | REST API | 이슈 동기화 |
| **Google Calendar** | CalDAV | 일정 동기화 |
| **Office 365** | Graph API | 문서 공유 |

### 5.2 웹훅

**이벤트 타입:**
- project.created
- project.updated
- project.completed
- resource.allocated
- budget.threshold_reached
- risk.level_changed

---

## 6. 보안 요구사항

### 6.1 인증/인가

| 항목 | 요구사항 |
|------|---------|
| **SSO** | SAML 2.0, OpenID Connect 지원 |
| **MFA** | TOTP, SMS 기반 MFA |
| **JWT** | Access Token (15분), Refresh Token (7일) |
| **RBAC** | 역할 기반 접근 제어 |

### 6.2 데이터 보안

| 항목 | 요구사항 |
|------|---------|
| **전송 암호화** | TLS 1.3 |
| **저장 암호화** | AES-256 |
| **민감 데이터** | 별도 암호화 키로 재암호화 |
| **키 관리** | AWS KMS/GCP KMS 사용 |

---

## 7. 운영 요구사항

### 7.1 모니터링

| 항목 | 도구 | 경보 기준 |
|------|------|----------|
| **애플리케이션** | Prometheus | Error rate > 1% |
| **시스템** | Node Exporter | CPU > 80%, Memory > 85% |
| **로그** | Loki | Error 로그 발생 시 |
| **APM** | Sentry | Error 발생 시 |

### 7.2 백업

| 항목 | 주기 | 보관 기간 |
|------|------|----------|
| **전체 백업** | 매일 새벽 2시 | 30일 |
| **증분 백업** | 매시간 | 7일 |
| **로그 백업** | 매일 | 1년 |

---

## 부록: 기술 제약사항

### 제약사항 목록

1. **언어**: TypeScript 사용 (JavaScript 불가)
2. **데이터베이스**: PostgreSQL만 사용 (NoSQL 불가)
3. **클라우드**: AWS 또는 GCP만 사용 (Azure 불가)
4. **오픈소스**: 모든 오픈소스 라이브러리는 MIT/Apache 2.0 라이선스만 사용
5. **브라우저**: 최신 브라우저 지원 (IE 지원 불가)

---

**문서 끝**

© 2025 ABADA Inc. All rights reserved.
